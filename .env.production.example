# Production Environment Configuration
# Copy this to .env.production and fill in your actual values

# ==================== DEPLOYMENT ====================
DEPLOYMENT_METHOD=cloud  # Options: kubernetes, cloud
DOCKER_REGISTRY=gcr.io/your-project  # Your Docker registry
PRODUCTION_API_URL=https://api.predictionnexus.com

# ==================== DATABASE ====================
# Production PostgreSQL (use a managed service like AWS RDS, Google Cloud SQL, etc.)
DATABASE_URL=postgresql://username:password@your-db-host:5432/saas_pricing_prod?schema=public&sslmode=require

# ==================== REDIS ====================
# Production Redis (use a managed service like Redis Cloud, AWS ElastiCache, etc.)
REDIS_URL=redis://username:password@your-redis-host:6379

# ==================== AUTHENTICATION ====================
# Generate strong secrets (minimum 64 characters for production)
# Use: openssl rand -base64 64
JWT_SECRET=your-super-secure-jwt-secret-min-64-chars
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-min-64-chars
JWT_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d

# ==================== STRIPE ====================
# Production Stripe keys (get from https://dashboard.stripe.com)
STRIPE_LIVE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_LIVE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_ID_STARTER=price_xxx
STRIPE_PRICE_ID_PROFESSIONAL=price_xxx
STRIPE_PRICE_ID_ENTERPRISE=price_xxx

# ==================== EMAIL ====================
# Production email service (SendGrid, AWS SES, Postmark, etc.)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
EMAIL_FROM=SaaS Pricing Calculator <noreply@predictionnexus.com>

# ==================== FRONTEND URLs ====================
FRONTEND_URL=https://predictionnexus.com
SUCCESS_URL=https://predictionnexus.com/success
CANCEL_URL=https://predictionnexus.com/pricing

# ==================== SECURITY ====================
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
ALLOWED_ORIGINS=https://predictionnexus.com,https://www.predictionnexus.com

# ==================== MONITORING ====================
# Google Analytics
GA_TRACKING_ID=G-JMQMDLTNK4

# Sentry Error Tracking (get from https://sentry.io)
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Monitoring Endpoints
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx
DATADOG_API_KEY=xxx  # Optional
NEW_RELIC_LICENSE_KEY=xxx  # Optional

# ==================== AWS (Optional) ====================
# For S3 file storage, CloudFront CDN, etc.
AWS_ACCESS_KEY_ID=xxx
AWS_SECRET_ACCESS_KEY=xxx
AWS_REGION=us-east-1
S3_BUCKET_NAME=saas-pricing-calculator-assets
CLOUDFRONT_DISTRIBUTION_ID=xxx

# ==================== SERVER ====================
NODE_ENV=production
PORT=3001
API_VERSION=v1
LOG_LEVEL=info
LOG_FILE=logs/production.log

# ==================== SCALING ====================
# Worker configuration
WEB_CONCURRENCY=4
MAX_MEMORY_RESTART=512M
CLUSTER_WORKERS=auto

# ==================== FEATURE FLAGS ====================
ENABLE_SUBSCRIPTIONS=true
ENABLE_TEAMS=true
ENABLE_API_KEYS=true
ENABLE_ANALYTICS=true
ENABLE_CACHE=true
MAINTENANCE_MODE=false

# ==================== BACKUP ====================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=saas-pricing-backups

# ==================== SSL/TLS ====================
SSL_CERT_PATH=/etc/ssl/certs/predictionnexus.com.crt
SSL_KEY_PATH=/etc/ssl/private/predictionnexus.com.key
FORCE_SSL=true

# ==================== RATE LIMITING ====================
# Different limits for different tiers
RATE_LIMIT_FREE=10
RATE_LIMIT_STARTER=50
RATE_LIMIT_PROFESSIONAL=200
RATE_LIMIT_ENTERPRISE=1000

# ==================== COMPLIANCE ====================
GDPR_ENABLED=true
COOKIE_CONSENT_REQUIRED=true
DATA_RETENTION_DAYS=365